# 魔改自然碼 Rime 方案

個人自用魔改自然碼的 Rime 方案，簡稱「魔然」。

⚠ 方案設計仍處於實驗階段，方案本體亦仍在建設中，不代表最終品質。

本方案的主要特徵：

+ 開箱即用
+ 優先支持傳承字（繁體字）
+ 基於自然碼雙拼和輔碼
+ 主要面向大詞庫整句輸入用法
+ 支持輔碼造詞
+ 支持簡拼：jsjkxj -> 計算機科學家
+ 重新設計固頂一二級簡碼與簡詞（⚠ 仍在建設中）
+ 收 3 萬簡繁漢字
+ 內置 20 萬大詞庫（※ 亦可手動開啓搜狗百萬詞庫）

其他自定義功能：

+ 分號次選
+ 自定義短語
  - `moran.custom.txt`
+ 簡繁快速切換
  - Ctrl+S (S 意爲 simplified)
+ 虎碼反查
  - 用 `` ` `` 引導
+ 繪文字（Emoji）支持
  - 用 Ctrl+E 開關
+ Unicode 編碼和區位顯示
  - 用 Ctrl+U 開關
+ 時間快速查詢與輸入
  - 日期 orq
  - 星期 oxq
  - 節氣 ojq
+ 大寫數字/金額轉換
  - 用 `S` 引導，如輸入 `S123`
+ 日語和英語詞庫（Work In Progress）

此外還有一些個人的惡趣味，如「肨」（胖本字）「剏」（創業之創的本字）等現代不常用的字也收錄到了固頂詞庫中，

## 安裝和使用方法

將本倉庫中的文件全部添加到用戶 Rime 配置目錄中，將 `moran` 添加到方案列表中，重新部署後即可敲字囉！

⚠ 如果有些文件已經存在，並且你計劃繼續使用以前的方案，那麼請勿直接覆蓋文件，而是手動合併這些文件的內容。

如果你並不瞭解什麼是自然碼，還有意使用魔然方案，可以參考以下資料：

- [自然碼の雙拼方案](https://zh.wikipedia.org/zh-hans/%E8%87%AA%E7%84%B6%E7%A0%81)
- [自然碼の輔助碼](https://docs.logcg.com/advanced/zrmassist.html)

## 與其他方案的對比

本方案的原生用字是**傳承字**，這與大多數其他雙拼加形方案截然不同。這樣做是否導致方案對大陸用戶來說太難學？我以爲並非如此：音形碼的特殊構造使得大部分字的簡體編碼和繁體編碼是相同的，少數不同者，亦可以輕鬆學習。此外，即使一時忘記了繁體字的寫法，也可以只打音碼，當智能拼音使用。

**與智能拼音對比**

- 隱私！
- 通過輔碼快速選字選詞，也可以快速造詞。
  + 可以直接給末字補充一個輔碼：
    * 輸入 uoci，候選爲「說辭」「說詞」，補打一個 y（言）就可以選中「說詞」了。
  + 給第一個字補充輔碼，可以按 tab 快速跳轉：
    * 輸入 nihk，候選爲「你好」，按 tab 跳轉回第一個字後，補充 f（手）就可以選「擬」字了。
- 經過一段時間，熟悉固頂詞庫後，這些字就再也不用選了，達到遣辭用字的自由。
  + 固頂詞庫的設計原則是儘可能讓「語法字」「單用字」變得更有確定性，而其他主要組詞打的字不必過於在意其重碼、碼長等等。

**與其他自然碼 Rime 方案對比**

- 本方案較好地結合了碼表和整句輸入方式。
  - 相比純碼表方案，可以偶爾使用整句輸入，思維負擔更輕。
  - 相比純整句方案，固頂小詞庫大大增強了確定性。

**與小鶴音形對比**

- 碼表公開，可以自己修改！
- 自然碼輔碼非常合乎直覺，幾乎不需要學習。
- 不定長方案，對多數人來說更易上手，前期不需要多少練習成本。

## 方案缺陷

魔然方案非常依賴於智能拼音引擎，這註定導致打字時的確定性下降，無法達到極致的速度（如一分鐘 200 字以上）。

此外，魔然方案只能在 Rime 上用，而 Rime 八股文詞庫的詞頻多少有些令人難以滿意。需要一段時間的磨合才能打得順心。

## 鳴謝

本方案純屬大雜燴，大部分工作來自於其他人。

+ 自然碼原始碼表來自 [rime-zrm](https://github.com/bigshans/rime-zrm)
+ 部分功能設計得到[小鶴音形](https://flypy.com)的啓發
+ Lua 腳本和繪文字來自 [秃版虎碼 Rime 方案](https://tiger-code.com/)
+ 皮膚收集自
  - [ssnhd/Rime](https://github.com/ssnhd/rime/)
  - [KyleBing/rime-wubi86-jidian](https://github.com/KyleBing/rime-wubi86-jidian/)

大部分詞庫收集自其他 Rime 方案，出處均在相應詞典文件頭標出。

本方案的製作得到了 @铁圈 的幫助，在此表示感謝。
